# PRD - AI 量化交易系统（quantum_x）

## 背景与目标
本项目旨在搭建一个 AI-native 量化交易系统，覆盖股票、期货、虚拟币等多资产市场，形成可持续迭代的策略系统与统一风控执行链路，并为未来客户跟单提供可审计、可控、可扩展的系统能力。

## 方案选择（推荐落地）
- 核心执行/回测引擎：NautilusTrader（Python-native，event-driven，backtest/live parity）
- 研究与模型管线：Qlib（AI 研究与量化研发工作流）
- 参考生态（能力对标，非强依赖）：Lean、vn.py、Freqtrade、Hummingbot、Backtrader、vectorbt
- 统一契约优先：以统一的数据/特征/信号/订单/成交契约为准，框架仅作为能力参考

## 用户画像
- 量化研究员：需要高效研究、可复现实验、快速迭代策略
- 交易/风控：需要稳定执行、风险可控、可审计的策略运行
- 运营/合规：需要可追溯的策略版本、变更记录与权限体系
- 客户/跟单用户（未来）：需要稳定信号、透明风险、可控复制

## 范围定义
### In Scope
- 多资产数据接入与特征生成（股票/期货/虚拟币）
- 策略系统（多策略/多模型/多周期，含 AI 训练与评估）
- 回测/仿真/实盘一体化执行
- 风控与组合管理
- 监控告警、审计追踪、策略版本管理
- 跟单与信号分发的系统能力设计

### Out of Scope
- 直接承诺收益或对外投资建议
- 未获得授权的账户接入与交易
- 未经验证的自动化资金管理

## MVP 假设与门禁（待确认）
- 假设：MVP 阶段仅模拟盘，不接入实盘
- 假设：先聚焦单一资产域以快速验证（默认：虚拟币现货/永续）
- 假设：MVP 使用公开/免费数据源，付费数据后置
- 假设：仅内部使用，不开放客户跟单
- 门禁：资产优先级、合规地区、数据预算、交易通道、风险限额必须在进入实盘前确认

## SOTA 策略系统设计
### 策略类型覆盖
- 趋势、均值回归、统计套利、事件驱动、做市、因子/ML/RL、跨市场套利

### 研究到生产的统一流水线
1. 数据版本化与质量校验
2. 特征工程与特征版本管理
3. 模型训练与评估（含 walk-forward）
4. 回测与成本/滑点/冲击建模
5. 风控门禁与策略评审
6. 仿真/模拟盘
7. 小资金实盘
8. 放量与跟单分发
9. 运行监控与事后归因分析

### 策略评审门禁（关键控制点）
- 数据泄漏检测与样本外验证
- 交易成本与冲击敏感性分析
- 压力测试与极端行情回放
- 回测/实盘偏差阈值

## 跟单与信号分发（未来能力）
- 信号版本管理与订阅策略
- 不同风险偏好账户的复制规则与仓位约束
- 跟单执行隔离与异常熔断
- 信号审计、变更记录与披露规则

## AI 研发管线
- 数据版本化 → 特征工程 → 训练/验证 → 回测 → 模拟盘 → 小资金实盘 → 放量与跟单
- 训练与推理隔离，保证研究与生产一致性

## 成功指标（不承诺收益，仅用于内部评估）
- 研究指标：信息比率、夏普、最大回撤、交易成本占比
- 工程指标：回测/实盘偏差、订单延迟、系统可用性
- 运营指标：策略上线周期、回滚耗时、风控命中率

## 合规与风险
- 账户权限、资金安全、日志可追溯
- 严格区分研究、模拟、实盘环境
- 对外跟单需满足地区合规要求与风控披露

## 依赖与约束
- 数据源合法合规接入
- 交易通道与券商/交易所的协议限制
- 模型训练与回测的计算资源预算

## 里程碑（高层）
- M1: 研究与回测底座完成
- M2: 统一风控与实盘执行链路
- M3: 多策略编排与监控
- M4: 跟单系统能力设计完成
